# ğŸ“¦ Docker (ë„ì»¤)

## 1. 'Docker Engine' ì„¤ì¹˜ë¥¼ ìœ„í•œ ê°€ìƒë¨¸ì‹  ì„¤ì¹˜

### ë§¤ìš° ì¤‘ìš”
- 'Hyper-V'ë¥¼ ë°˜ë“œì‹œ ì œê±°í•´ì•¼ í•œë‹¤.



### Ubuntu ì„¤ì¹˜
```
í•´ì‹œí•© ì•ˆë§ì„ê²½ìš°
sudo rm -rf /var/lib/apt/lists/*
sudo apt update
sudo apt upgrade
```
### ê´€ë ¨ íŒ¨í‚¤ì§€ ì„¤ì¹˜

### 'Docker Engine' ì„¤ì¹˜

```
sudo apt install apt-transport-https ca-certificates curl gnupg-agent software-properties-common
```

### GPG(ì•”í˜¸í™”, ì†Œí”„íŠ¸ì›¨ì–´ ë“±ì˜ ë¬´ê²°ì„± ê²€ì¦)í‚¤ ì„¤ì¹˜

```
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -
```
### ê³µì‹ ì €ì¥ì†Œ ì¶”ê°€
```
sudo add-apt-repository "deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable"
```

### ì‹œìŠ¤í…œ ì—…ë°ì´íŠ¸
```
sudo apt update
sudo apt upgrade
```

### ë„ì»¤ í™•ì¸ ë° ì„¤ì¹˜

```
sudo apt install docker-ce docker-ce-cli containerd.io
```

![](./img/20250523.img/0001.png)
```
sudo docker -v
sudo dpkg -l | grep docker
sudo ps -ef | grep docker
```

### í…ŒìŠ¤íŠ¸
#### ë„ì»¤ ì´ë¯¸ì§€ë¥¼ ì´ìš©í•´ì„œ ì»¨í…Œì´ë„ˆë¥¼ ìƒì„±

![](./img/20250523.img/0002.png)
#### ë„ì»¤ ì»¨í…Œì´ë„ˆë¥¼ ì‚­ì œ 1. ì˜¤ë¥˜

![](./img/20250523.img/0003.png)

#### ë„ì»¤ ì»¨í…Œì´ë„ˆ í™•ì¸

- í™œì„± ìƒíƒœì¸ ì»¨í…Œì´ë„ˆ í™•ì¸
- í™œì„±/ë¹„í™œì„± ìƒíƒœì¸ ì»¨í…Œì´ë„ˆ ëª¨ë‘ í™•ì¸

![](./img/20250523.img/0004.png)

ì—¬ê¸°ì„œ í™œì„±í™”ê°€ ë˜ì–´ ìˆë‹¤.

#### ë„ì»¤ ì»¨í…Œì´ë„ˆë¥¼ ì‚­ì œ 2. ì •ìƒ

![](./img/20250523.img/0005.png)
```
sudo docker rm quizzical_bell   --> ë°ëª¬ ì§€ìš°ê¸°
sudo docker ps -a   --> í™•ì¸
```

![](./img/20250523.img/0006.png)
```
sudo docker rmi hello-world  --> ì‚­ì œ
sudo docker images  --> í™•ì¸
```
- ë°±ê·¸ë¼ìš´ë“œ ì‹¤í–‰ í™•ì¸

![](./img/20250523.img/0007.png)

![](./img/20250523.img/0008.png)

## 2. 'Docker' ëª…ë ¹ì–´
### ì´ë¯¸ì§€ ê´€ë ¨ ëª…ë ¹ì–´

- search
    - ê°œìš”
        - Docker Hubì—ì„œ ì´ë¯¸ì§€ë¥¼ ê²€ìƒ‰í•œë‹¤.
    - ë¬¸ë²•
        - docker search <ì´ë¯¸ì§€ëª…>:[íƒœê·¸]
    - ì‹¤ìŠµ
        ![](./img/20250523.img/0009.png)
        centos OFFICIAL [ok] ê³µì‹ì´ë¯¸ì§€
        ![](./img/20250523.img/0010.png)

        ![](./img/20250523.img/0011.png)

        ![](./img/20250523.img/0012.png)

- images
    - ê°œìš”
        - í˜„ì¬ ë‹¤ìš´ë¡œë“œí•œ ì´ë¯¸ì§€ ëª©ë¡ì„ í™•ì¸í•œë‹¤.
    - ë¬¸ë²•
        - docker images

- pull
    - ê°œìš”
        - ì´ë¯¸ì§€ë¥¼ ë‹¤ìš´ë¡œë“œí•œë‹¤.
    - ë¬¸ë²•
        - docker pull <ì´ë¯¸ì§€ëª…>:[íƒœê·¸]
    - ì‹¤ìŠµ
    
        ![](./img/20250523.img/0013.png)
        ```
        sudo docker pull centos7
        ```
        ![](./img/20250523.img/0014.png)
        ```
        sudo docker pull ubuntu:24.04
        ```
        ![](./img/20250523.img/0015.png)

- rmi
    - ê°œìš”
        - ì´ë¯¸ì§€ë¥¼ ì‚­ì œí•œë‹¤.
    - ë¬¸ë²•
        - docker rmi <ì´ë¯¸ì§€ëª…>:[íƒœê·¸]
    - ì‹¤ìŠµ
        ![](./img/20250523.img/0016.png)

        ![](./img/20250523.img/0017.png)

### ì»¨í…Œì´ë„ˆ ê´€ë ¨ ëª…ë ¹ì–´
- run
    - ê°œìš”
        - ì´ë¯¸ì§€ë¥¼ ì´ìš©í•´ì„œ ì»¨í…Œì´ë„ˆë¥¼ ìƒì„±í•œë‹¤.
        - ê¸°ë³¸ì ìœ¼ë¡œ ì»¨í…Œì´ë„ˆ ìƒì„±ê³¼ ë™ì‹œì— ì»¨í…Œì´ë„ˆ ì•ˆì— ì ‘ì†
    - ë¬¸ë²•
        - docker run <ì˜µì…˜1><ì„œë¸Œì˜µì…˜1> <ì˜µì…˜2><ì„œë¸Œì˜µì…˜2> ...
        - name <ì›í•˜ëŠ” ì»¨í…Œì´ë„ˆëª…><ì´ë¯¸ì§€ëª…>:[íƒœê·¸] <ëª…ë ¹ì–´>
    - ì‹¤ìŠµ
        - -i (Interactive)
        - -t (Pseudo-tty, ê°€ìƒí„°ë¯¸ë„)
        - --name (ì»¨í…Œì´ë„ˆ ì´ë¦„, ì—†ìœ¼ë©´ ë„ì»¤ê°€ ìë™ ì§€ì •)
        - ëª…ë ¹ì–´ (ì¼ë°˜ì ìœ¼ë¡œ 'shell'ì„ ì§€ì •)

        ![](./img/20250523.img/0018.png)

- ps
    - ê°œìš”
        - í™œì„± ë° ë¹„í™œì„± ìƒíƒœì˜ ì»¨í…Œì´ë„ˆë¥¼ ëª¨ë‘ ì¶œë ¥í•œë‹¤.
    - ë¬¸ë²•
        - docker ps
        - docker ps -a
    - ì‹¤ìŠµ

        ![](./img/20250523.img/0019.png)


- create
    - ê°œìš”
        - ì»¨í…Œì´ë„ˆë¥¼ ìƒì„±í•œë‹¤. ë„ì»¤ ì ‘ì† x
    - ë¬¸ë²•
        - docker create <ì˜µì…˜1><ì„œë¸Œì˜µì…˜1> <ì˜µì…˜2><ì„œë¸Œì˜µì…˜2> ...
        - --name <ì›í•˜ëŠ” ì»¨í…Œì´ë„ˆëª…><ì´ë¯¸ì§€ëª…>:[íƒœê·¸] <ëª…ë ¹ì–´>
    - ì‹¤ìŠµ

    ![](./img/20250523.img/0020.png)



- rm
    - ê°œìš”
        - ì»¨í…Œì´ë„ˆë¥¼ ì‚­ì œí•œë‹¤.
    - ë¬¸ë²•
        - docker rm [CONTAINER ID]
        - docker rm [NAMES]

    - ì‹¤ìŠµ

        ![](./img/20250523.img/0021.png)


- start, restart, stop
    - ê°œìš”
        - ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰(í™œì„±í™”), ì¬ì‹¤í–‰, ì¤‘ì§€(ë¹„í™œì„±í™”) ì‹œí‚¨ë‹¤.
    - ë¬¸ë²•
        - docker start/restart/stop [CONTAINER ID]
        - docker start/restart/stop [NAMES]
    - ì‹¤ìŠµ

    ![](./img/20250523.img/0022.png)

- attach
    - ê°œìš”
        - ì»¨í…Œì´ë„ˆì— ì ‘ì†í•œë‹¤.
    - ë¬¸ë²•
        - docker attach [CONTAINER NAMES]
    - ì‹¤ìŠµ

    ![](./img/20250523.img/0023.png)

    ![](./img/20250523.img/0024.png)

- exec
    - ê°œìš”
        - í˜„ì¬ ì„¤ì •ëœ ë¡œì»¬ì´ ì•„ë‹Œ ì™¸ë¶€ ì ‘ì†ìœ¼ë¡œ ì»¨í…Œì´ë„ˆ ì•ˆì˜ ëª…ë ¹ì„ ì‹¤í–‰
    - ë¬¸ë²•
        - docker exec [CONTAINER NAMES] <ëª…ë ¹> <ë§¤ê°œë³€ìˆ˜>
    - ì‹¤ìŠµ

    ![](./img/20250523.img/0025.png)

### 'Docker Container'ë¥¼ ì´ìš©í•œ ì´ë¯¸ì§€ ìƒì„±

#### ì‚¬ìš©ìê°€ ìƒì„±í•œ 'Docker Container'ë¥¼ ì´ìš©í•œ 'Docker Image' ìƒì„±
#### ì•ì—ì„œ ì‘ì—…í–ˆë˜ ì´ë¯¸ì§€, ì»¨í…Œì´ë„ˆ ëª¨ë‘ ì œê±°

#### ì‚¬ì „ì‘ì—…
- ì´ë¯¸ì§€ ê²€ìƒ‰í•˜ê³  ë‹¤ìš´ë¡œë“œ
    - docker search centos:7
    - docker pull centos:7
- ì»¨í…Œì´ë„ˆ ìƒì„±
    - docker run -it --name samdocker centos:7 /bin/bash
- ë„ì»¤ë¡œ ë“¤ì–´ê°„ í›„ í•„ìš”í•œ íŒ¨í‚¤ì§€ë¥¼ ëª¨ë‘ ì„¤ì¹˜í•œë‹¤.
    - ì—¬ê¸°ì„œëŠ” 'ì»¤ë„ ì—…ë°ì´íŠ¸'ë§Œ í•˜ê³  ë¹ ì ¸ ë‚˜ì˜¨ë‹¤. (^ + p + q)
- í™•ì¸
- ì´ë¯¸ì§€ìƒì„±
- ìƒì„±í•œ ì´ë¯¸ì§€ë¥¼ ì´ìš©í•œ ì»¨í…Œì´ë„ˆ ìƒì„±


### s
```
sudo docker pull nginx
sudo docker run -itd --name nginx
```

### ì´ë¯¸ì§€ ê²€ì‚¬

```
sudo docker inspect nginx
```

```
[
    {
        "Id": "sha256:be69f2940aaf64fdf50c9c99420cbd57e10ee655ec7204df1c407e9af63d0cc1",
        "RepoTags": [
            "nginx:latest"
        
        },
        ... .... ...
            ]
        },
        "Metadata": {
            "LastTagTime": "0001-01-01T00:00:00Z"
        }
    }
]

```
```
root@CloudDX:~# ls -l /var/lib/docker/overlay2/
í•©ê³„ 52
drwx--x--- 3 root root 4096  5ì›” 26 09:36 051c49d5f5c3f38647512a410e913e5c993be7625085595b030476fc9233a2df
drwx--x--- 5 root root 4096  5ì›” 26 09:44 0a6e37a3fbf7e5c7888e056e43d1429da60fcb03db3de30be74937830323dcb2
drwx--x--- 4 root root 4096  5ì›” 26 09:36 0a6e37a3fbf7e5c7888e056e43d1429da60fcb03db3de30be74937830323dcb2-init
drwx--x--- 4 root root 4096  5ì›” 26 09:36 33924ac1948956ca72ff641a93ee504b015c2af7915980e6e1929f5dcd26541c
drwx--x--- 4 root root 4096  5ì›” 26 09:36 444b660a008c744caaa361bc3092c0d6f79837bf6c48bf5d17623fae208af7fd
drwx--x--- 4 root root 4096  5ì›” 26 09:36 6deff2ede4407683ba5a666e1a3cc26f6ec0e32e1d34936e0ba85a839f1c2247
drwx--x--- 4 root root 4096  5ì›” 26 09:36 b63cb25fdacffef40b458a3a116831cc27454de8bf827e1a1e4f7ca569e14558
drwx--x--- 5 root root 4096  5ì›” 26 09:44 d28f78b0c25dbc6cd79cc4508af72f18e7bce3825fab9ca16a1dae6048e18c53
drwx--x--- 4 root root 4096  5ì›” 26 09:43 d28f78b0c25dbc6cd79cc4508af72f18e7bce3825fab9ca16a1dae6048e18c53-init
drwx--x--- 4 root root 4096  5ì›” 26 09:36 d55ed90618f9d06b9c3e0fac044d5247ba6ff9a07e258f7e07a9755bf949929a
drwx--x--- 4 root root 4096  5ì›” 26 09:36 e42c07170f1ef60d83cca9fa84d64bf948af24f96891b3b65265aa158c3c9201
drwx--x--- 3 root root 4096  5ì›” 26 09:43 f5c62540b432617c195b08a5a72a09e37cd6deacba5241171843c51611ce4481
drwx------ 2 root root 4096  5ì›” 26 09:43 l
```

ìƒì„±í•œ Containerì™€  Docker Hubì˜ ì—°ë™
- Docker Hubì— ì´ë¯¸ì§€ ì—…ë¡œë“œ í•˜ê¸° ìœ„í•œ ê¸°ë³¸ ì‘ì—…

[íšŒì›ê°€ì…](https://hub.docker.com/)

- ë„ì»¤ ì •ë¦¬

- ë¡œê·¸ì¸

![](./img/20250526.img/0001.png)

ì»¨í…Œì´ë„ˆë¥¼ ì´ë¯¸ì§€(centos:7) ì„ ì´ìš©í•´ì„œ ì»¨í…Œì´ë„ˆë¥¼ ìƒì„±í•˜ê³  ìƒì„±í•œ ì»¨í…Œì´ë„ˆë¥¼ ì´ìš©í•œ 'ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€' ìƒì„±
- ì»¨í…Œì´ë„ˆ ìƒì„±

```
samadal@CloudDX:~$ sudo docker images
REPOSITORY   TAG       IMAGE ID       CREATED       SIZE
centos       7         eeb6ee3f44bd   3 years ago   204MB
samadal@CloudDX:~$
samadal@CloudDX:~$ sudo docker run -it --name dockersam centos:7 /bin/bash
[root@cdda4a9f3dd0 /]# exit
exit
samadal@CloudDX:~$ sudo docker ps -a
CONTAINER ID   IMAGE      COMMAND       CREATED         STATUS                     PORTS     NAMES
cdda4a9f3dd0   centos:7   "/bin/bash"   8 seconds ago   Exited (0) 5 seconds ago             dockersam
samadal@CloudDX:~$
samadal@CloudDX:~$ sudo docker start dockersam
dockersam
samadal@CloudDX:~$
samadal@CloudDX:~$ sudo docker attach dockersam
[root@cdda4a9f3dd0 /]#

[root@cdda4a9f3dd0 /]# read escape sequence  --> ctrl + p + q
samadal@CloudDX:~$
samadal@CloudDX:~$

```
- ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ ìƒì„±
    - ì‘ì—… 1. ì˜¤ë¥˜
    ```
    samadal@CloudDX:~$
    samadal@CloudDX:~$ sudo docker container commit dockersam cloud/samadal
    sha256:d1ee3eea0c366c35c3b676251126b8d815a9f46bd53984c8fb2bbc13911b2372
    samadal@CloudDX:~$
    samadal@CloudDX:~$ sudo docker images
    REPOSITORY      TAG       IMAGE ID       CREATED         SIZE
    cloud/samadal   latest    d1ee3eea0c36   9 seconds ago   204MB
    centos          7         eeb6ee3f44bd   3 years ago     204MB
    samadal@CloudDX:~$ sudo docker push cloud/samadal
    Using default tag: latest
    The push refers to repository [docker.io/cloud/samadal]
    2a9257a923e6: Preparing
    174f56854903: Preparing
    denied: requested access to the resource is denied
    ```
    ![](./img/20250526.img/0002.png)

    - ì‘ì—… 2. ë„ì»¤í—ˆë¸Œ ì•„ì´ë””ëª…(clouddxuser)
    ```
    samadal@CloudDX:~$ sudo docker container commit dockersam clouddxuser/hmcloud
    sha256:03439fea2b9f84df732ee9c1daf5f2e10d2c1cf9861adc11574e28f1ed0919d4
    samadal@CloudDX:~$
    samadal@CloudDX:~$ sudo docker images
    REPOSITORY               TAG       IMAGE ID       CREATED         SIZE
    clouddxuser/hmcloud   latest    03439fea2b9f   2 minutes ago   204MB
    centos                   7         eeb6ee3f44bd   3 years ago     204MB
    ```
    - ë„ì»¤ í—ˆë¸Œ ì—…ë¡œë“œ<br>
    ë¬¸ë²• sudo docker push ì‹ë³„ì/ì´ë¯¸ì§€ëª…[:íƒœê·¸ëª…]
    ```
    samadal@CloudDX:~$ sudo docker images
    REPOSITORY            TAG       IMAGE ID       CREATED          SIZE
    clouddxuser/hmcloud   latest    59d55a226a6a   31 seconds ago   204MB
    centos                7         eeb6ee3f44bd   3 years ago      204MB
    samadal@CloudDX:~$ sudo docker push clouddxuser/hmcloud
    Using default tag: latest
    The push refers to repository [docker.io/clouddxuser/hmcloud]
    2a9257a923e6: Pushed
    174f56854903: Pushed
    latest: digest: sha256:11bd8be55975d7b2c5b04836bd0c08d40e3c758c4e337240a69a652f3f106ba8 size: 736
    ```
    ![](./img/20250526.img/0003.png)

- ë„ì»¤ í—ˆë¸Œì—ì„œ ë‹¤ìš´ë¡œë“œ

![](./img/20250526.img/0004.png)

- ë„ì»¤ í—ˆë¸Œ ì‚¬ì´íŠ¸ì— ìˆëŠ” Repositoryì—ì„œ ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ ì‚­ì œ


![](./img/20250526.img/0005.png)

![](./img/20250526.img/0006.png)










