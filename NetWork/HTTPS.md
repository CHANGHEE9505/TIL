# π“ HTTPS (SSL / TLS)

---

## π” 1. SSL / TLS

### π“ κ°μ”
- **SSL/TLS**λ” μ»΄ν“¨ν„° μ‹μ¤ν…μ΄ **μΈν„°λ„·μ—μ„ μ•μ „ν•κ² ν†µμ‹ **ν•  μ μλ„λ΅ ν•λ” **μ•”νΈν™” ν†µμ‹  ν”„λ΅ν† μ½**μ΄λ‹¤.
- **SSL/TLS μΈμ¦μ„**λ” μ›Ή λΈλΌμ°μ €κ°€ μ›Ή μ‚¬μ΄νΈμ— λ€ν•΄ **μ•”νΈν™”λ λ„¤νΈμ›ν¬ μ—°κ²°μ„ μ„¤μ •ν•κ³  μ‹ λΆ°ν•  μ μλ”μ§€ ν™•μΈ**ν•  μ μκ² ν•΄μ¤€λ‹¤.
- μ‹μ¤ν… κ°„μ IDλ¥Ό ν™•μΈν•κ³ , μ•μ „ν• ν†µμ‹ μ„ μ„ν•΄ **μ•”νΈν™”λ μ—°κ²°μ„ μλ¦½**ν•λ‹¤.
- κ²°κ³Όμ μΌλ΅, **λ„¤νΈμ›ν¬ ν†µμ‹ μ„ λ³΄νΈν•κ³ ** μΈν„°λ„· μƒμ μ›Ή μ‚¬μ΄νΈ λ° λ„¤νΈμ›ν¬ λ¦¬μ†μ¤μ— λ€ν• **λ³΄μ• μ—°κ²°μ„ λ³΄μ¥**ν•λ‹¤.

---

## π 2. HTTPS (Hyper Text Transfer Protocol Secure)

### π“ κ°μ”
- **IPSec**μ—μ„ CA μΈμ¦μ„λ¥Ό μ°Έκ³ λ΅ ν™•μΈν•λ„λ΅ ν•λ‹¤.
- μΌλ°μ μΌλ΅ κ³µμΈλ μΈμ¦ κΈ°κ΄€(CA)μ—μ„ **SSL μΈμ¦μ„**λ¥Ό λ°κΈ‰λ°›μ•„ PC λλ” μ„λ²„μ— μ„¤μΉν•μ—¬ μ‚¬μ©ν•λ‹¤.
- **λ³΄μ•μ„ κ°•ν™”ν•κΈ° μ„ν•΄ HTTPS μ‚¬μ©μ΄ ν•„μμ **μ΄λ‹¤.
- ν†µμ‹ μ΄ **μ•”νΈν™”**λμ–΄ μκΈ° λ•λ¬Έμ—, **ν”Όμ‹± μ‚¬μ΄νΈλ‚ μ•…μ„± μ‚¬μ΄νΈ**κ°€ HTTPSλ¥Ό μ‚¬μ©ν•λ” κ²½μ°λ„ μμ–΄ **μ λ€μ μΈ μ‹ λΆ° μ”μ†λ” μ•„λ‹**.

---

### π” HTTP vs HTTPS

| κµ¬λ¶„ | HTTP | HTTPS |
|------|------|-------|
| ν”„λ΅ν† μ½ | HyperText Transfer Protocol | HyperText Transfer Protocol Secure |
| λ³΄μ•μ„± | **ν‰λ¬Έ(μ•”νΈν™” μ—†μ)**μΌλ΅ μ „μ†΅λ¨ | **μ•”νΈν™”λ ν†µμ‹ **μΌλ΅ μ „μ†΅λ¨ |
| ν¬νΈ λ²νΈ | 80λ² | 443λ² |
| μ‚¬μ© λ©μ  | μΌλ° μ›Ήμ‚¬μ΄νΈ, λΉ„λ΅κ·ΈμΈ νμ΄μ§€ λ“± | λ΅κ·ΈμΈ, κ²°μ , κ°μΈμ •λ³΄ μ „μ†΅ λ“± |
| μ μ‚¬ μ‚¬λ΅€ | **Telnet** (λΉ„μ•”νΈν™” μ›κ²©μ ‘μ†) | **SSH** (μ•”νΈν™” μ›κ²©μ ‘μ†) |

> π“ **λΉ„μ μ  λΉ„κµ**  
> HTTPλ” Telnetμ²λΌ **λ³΄μ•μ΄ μ—†λ” μƒνƒμ—μ„μ ν†µμ‹ **μ— ν•΄λ‹Ήν•λ©°,  
> HTTPSλ” SSHμ²λΌ **μ•”νΈν™”λ¥Ό κΈ°λ°μΌλ΅ μ•μ „ν• ν†µμ‹ **μ„ μ κ³µν•¨.

## 3. HTTPS(SSL/TLS) κµ¬μ΅°

- HTTPSλ¥Ό μ μ©ν•κΈ° μ„ν•΄μ„λ” λ‘ κ°€μ§€μ ν•„μ μ΅°κ±΄(ν‚¤, μΈμ¦μ„)μ΄ μλ‹¤.
- ν‚¤λ¥Ό λ°κΈ‰λ°›κΈ° μ„ν•΄μ„λ” μΈμ¦μ„λ¥Ό ν‚¤λ΅ μ•”νΈν™”ν•΄μ„ λ³΄κ΄€, μ‚¬μ©ν•λ‹¤.


## 4. π–¥οΈ μ‹¤μµ ν™κ²½ (NAT κµ¬μ„±)

### β… Windows 10
- IP: `192.168.10.130`
- κ²μ΄νΈμ›¨μ΄: `192.168.10.2`
- DNS: `192.168.10.132`

### β… CentOS with DNS Server
- IP: `192.168.10.132`
- κ²μ΄νΈμ›¨μ΄: `192.168.10.2`
- DNS: `192.168.10.132`

## 5. μ‹¤μµ

### ν¨ν‚¤μ§€ μ„¤μΉ
```
yum -y install openssl*
```
![](./img/HTTPS.img/0001.png)

### ν‚¤ μƒμ„±
```
cd /etc/pki/tls/certs/
```
![](./img/HTTPS.img/0002.png)

```
[root@ns certs]# openssl genrsa -out http.key 2048
Generating RSA private key, 2048 bit long modulus
.+++
...+++
e is 65537 (0x10001)
```

![](./img/HTTPS.img/0003.png)

### μΈμ¦μ„ μƒμ„±

![](./img/HTTPS.img/0004.png)


### μƒμ„±λ ν‚¤μ™€ μΈμ¦μ„ λ³‘ν•©

```
[root@ns certs]# openssl x509 -req -days 365 -in http.csr -signkey http.key -out http.crt
Signature ok
subject=/C=kr/ST=Seoul/L=Jongno/O=Himedia/OU=Edu/CN=www.gusiya.com/emailAddress=samadal@gusiya.com
Getting Private key
```

### SSL Module μ„¤μΉ λ° μ„¤μ •
```
yum -y install mod_ssl
```
![](./img/HTTPS.img/0005.png)

![](./img/HTTPS.img/0006.png)

![](./img/HTTPS.img/0007.png)

![](./img/HTTPS.img/0008.png)

### λ°λ¬ λ° κΈ°νƒ€

```
systemctl restart httpd
```
![](./img/HTTPS.img/0009.png)

![](./img/HTTPS.img/0010.png)


### μ‚¬μ΄νΈ μ¶λ ¥

#### μ‚¬μ΄νΈ μ¶λ ¥μ„ μ„ν• κΈ°λ³Έ μ‘μ—…
>μλ„μ°μ—μ„ λ„¤μ„μ„λ²„ μ΅°ν
![](./img/HTTPS.img/0011.png)

#### https μ „μ© ν¬νΈ(443) μ¶”κ°€

![](./img/HTTPS.img/0012.png)
μ¶”κ°€ ν›„ λ°λ¬ μ¬μ‹¤ν–‰
```
firewall-cmd --reload
```

#### μ‚¬μ΄νΈ μ¶λ ¥ 
![](./img/HTTPS.img/0013.png)

![](./img/HTTPS.img/0014.png)

![](./img/HTTPS.img/0015.png)

λΉ¨κ°„μ¤„μ€ μƒμ—…μ©μΌλ΅ κµ¬μ…ν•΄μ„ ν•΄κ²°