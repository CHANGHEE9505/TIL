# ğŸ“˜ DHCP (CentOS) Window10

## íŒ¨í‚¤ì§€ ë‹¤ìš´ë¡œë“œ

```
yum -y install dhcpd-*
yum -y install dhcp-*
í¬íŠ¸ x
ì„œë¹„ìŠ¤ dhcp
ë°ëª¬ dchpd
```
```
rpm -qa | grep dchp | nl
```

![ì„¤ì¹˜íŒŒì¼](./img/DHCPimg/1.png)

## dhcp ì„œë²„ ì„¤ì • ì¤€ë¹„
```
cd /usr/share/doc/dhcp-4.2.5
```
![íŒŒì¼ í™•ì¸](./img/DHCPimg/2.png)

## ë°±ì—…í•´ë‘ê¸°
```
cp -p /etc/dhcp/dhcpd.conf /etc/dhcp/dhcpd.conf.samadal
```
![ë°±ì—…í•´ë‘ê¸°](./img/DHCPimg/3.png)
---
- ê¸°ì¡´ DHCP ì„¤ì • íŒŒì¼ì„ ìƒ˜í”Œ íŒŒì¼ë¡œ ë®ì–´ì“°ê³ , ì‹œê°„/ê¶Œí•œë„ ë³´ì¡´í•˜ê³  ê°•ì œë¡œ ì ìš©í•˜ëŠ” ì‘ì—…

| ì˜µì…˜ | ì´ë¦„            | ì„¤ëª…                                                        |
|:----|:----------------|:------------------------------------------------------------|
| -i  | interactive     | ëŒ€ìƒ íŒŒì¼ì´ ìˆìœ¼ë©´ ë®ì–´ì“°ê¸° ì „ì— ì‚¬ìš©ìì—ê²Œ í™•ì¸ì„ ìš”ì²­í•œë‹¤.  |
| -p  | preserve        | ë³µì‚¬í•  ë•Œ ì›ë³¸ íŒŒì¼ì˜ ê¶Œí•œ, ì†Œìœ ì, íƒ€ì„ìŠ¤íƒ¬í”„ë¥¼ ìœ ì§€í•œë‹¤.    |
| -f  | force           | ë³µì‚¬í•˜ë ¤ëŠ” íŒŒì¼ì´ ì½ê¸° ì „ìš©ì´ì–´ë„ ê°•ì œë¡œ ë®ì–´ì“´ë‹¤.             |

```
[root@localhost dhcp-4.2.5]# cp -ipf /usr/share/doc/dhcp-4.2.5/dhcpd.conf.example /etc/dhcp/dhcpd.conf
cp: overwrite `/etc/dhcp/dhcpd.conf'? y
[root@localhost dhcp-4.2.5]#
```
---
- DHCP ì„œë²„ê°€ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ IPë¥¼ í• ë‹¹í•œ ê¸°ë¡ì„ ì €ì¥
![ë°±ì—…í•´ë‘ê¸°](./img/DHCPimg/4.png)

---
# ğŸ“„ DHCP ì„œë²„ ì„¤ì • (`/etc/dhcp/dhcpd.conf`)

```
subnet 192.168.10.0 netmask 255.255.255.0 {
    range 192.168.10.150 192.168.10.180;
    option subnet-mask 255.255.255.0;
    option routers 192.168.10.2;
    option broadcast-address 192.168.10.255;
    option domain-name-servers 192.168.10.2, 168.126.63.1;
    default-lease-time 7200;
    max-lease-time 36000;
}

```
```bash
# ë„¤íŠ¸ì›Œí¬ ëŒ€ì—­ ì„¤ì • (192.168.10.0/24)
subnet 192.168.10.0 netmask 255.255.255.0 {

    # DHCPë¡œ ì œê³µí•  IP ë²”ìœ„
    range 192.168.10.150 192.168.10.180;

    # í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì œê³µí•  ì„œë¸Œë„· ë§ˆìŠ¤í¬
    option subnet-mask 255.255.255.0;

    # ê¸°ë³¸ ê²Œì´íŠ¸ì›¨ì´ ì„¤ì •
    option routers 192.168.10.2;

    # ë¸Œë¡œë“œìºìŠ¤íŠ¸ ì£¼ì†Œ ì„¤ì •
    option broadcast-address 192.168.10.255;

    # DNS ì„œë²„ ì„¤ì • (ì²« ë²ˆì§¸ëŠ” ë‚´ë¶€ DNS, ë‘ ë²ˆì§¸ëŠ” ì™¸ë¶€ KT DNS)
    option domain-name-servers 192.168.10.2, 168.126.63.1;

    # ê¸°ë³¸ ì„ëŒ€ ì‹œê°„ (2ì‹œê°„ = 7200ì´ˆ)
    default-lease-time 7200;

    # ìµœëŒ€ ì„ëŒ€ ì‹œê°„ (10ì‹œê°„ = 36000ì´ˆ)
    max-lease-time 36000;
}
```
```
systemctl restart dhcpd
```
## Vmware ì„¤ì •
- ì™¸ë¶€ì—ì„œ ë°›ì•„ì˜¤ëŠ” DHCPë¥¼ í•´ì œ í•´ì¤€ë‹¤.<br>
![DHCPí•´ì œ](./img/DHCPimg/5.png)

- CentOSì™€ Window10 ëª¨ë‘ NATë¡œ ì„¤ì •<br>
- Window10 ì—ì„œ cmdì°½ ì—´ê¸°<br>
![DHCPí•´ì œ](./img/DHCPimg/6.png)

```
ipconfig /release
ipconfig /renew
```
í•˜ë‹¨ì˜ IPv4í™•ì¸