# 08. AWS 기초 지식: 암호화 및 SSL/TLS

이 문서는 데이터를 보호하기 위한 핵심 기술인 **암호화(Encryption)**의 기본 원리, 종류, 그리고 이를 활용하여 안전한 통신을 보장하는 **SSL/TLS** 프로토콜에 대해 설명합니다.

## 암호화(Encryption) 기본

-   **정의**: 수학적인 과정을 통해 사람이 읽을 수 있는 데이터(**평문, Plaintext**)를 알아볼 수 없는 형태(**암호문, Ciphertext**)로 변환하는 행위입니다.
-   **특징**: 암호화는 **복호화(Decryption)**를 통해 다시 평문으로 되돌릴 수 있으며, 이 점에서 복원이 불가능한 **해시(Hash)**와 구별됩니다.
-   **핵심 요소**:
    -   **키(Key)**: 암호화/복호화 알고리즘에 사용되는 핵심 가변 정보 값입니다.
    -   **암호 알고리즘**: AES, DES 등 암호화와 복호화를 위해 사용되는 로직입니다.

### 암호화의 종류

1.  **사용 상황에 따른 분류**:
    -   **저장된 데이터 보호 (Encryption At Rest)**: 디스크나 데이터베이스에 저장된 데이터를 암호화하는 방식입니다. 기기를 물리적으로 탈취당했을 때 데이터를 보호합니다.
    -   **전송 중 데이터 보호 (Encryption At Transit)**: 시스템 간에 데이터가 전송되는 과정에서 암호화를 적용하여 중간에서 데이터가 탈취(도청)되는 것을 방지합니다. (예: SSH, TLS, HTTPS)
2.  **키 사용 방식에 따른 분류**:
    -   **대칭키 암호화 (Symmetric Encryption)**: **하나의 키**로 암호화와 복호화를 모두 수행합니다. 연산이 빨라 효율적이지만, 키를 안전하게 전달하는 방법이 필요합니다.
    -   **비대칭키 암호화 (Asymmetric Encryption)**: **공개키(Public Key)**와 **비밀키(Private Key)**라는 한 쌍의 키를 사용합니다.
        -   공개키로 암호화한 데이터는 비밀키로만 복호화할 수 있습니다. (반대의 경우도 가능)
        -   연산이 비교적 복잡하지만, 공개키를 외부에 안전하게 배포할 수 있어 키 전달이 용이합니다.

## 암호화 서명 (Signing)

-   **정의**: 데이터의 **생성자를 보장**(인증)하고, 데이터가 위변조되지 않았음을 증명하는 방법입니다.
-   **원리**: **비밀키(Private Key)**를 가진 주체가 데이터의 **서명(Signature)**을 생성하면, **공개키(Public Key)**를 가진 누구나 해당 서명을 검증할 수 있습니다.
-   **AWS 활용 예시**: **S3 Pre-signed URL**은 서명을 통해 특정 시간 동안만 S3 객체에 대한 임시 접근 권한을 안전하게 부여하는 데 이 원리를 활용합니다.

## SSL/TLS 프로토콜

-   **정의**: 클라이언트와 서버 간 데이터 통신의 **무결성**과 **기밀성**을 보장하는 보안 프로토콜입니다.
-   **역할**: 상호 간의 통신을 암호화하여 중간에서 데이터를 탈취하더라도 안전하게 보호합니다. 이는 보안이 취약한 일반 HTTP 통신을 보완하기 위해 **HTTPS**와 같은 다양한 프로토콜에서 활용됩니다.

### SSL/TLS의 3단계 과정 (Handshake)

1.  **Cipher Suites 교환**:
    -   클라이언트와 서버가 서로 어떤 **SSL/TLS 버전**과 **암호화 알고리즘(Cipher Suites)**을 지원하는지 목록을 교환하고, 사용할 버전을 하나로 합의합니다.
2.  **인증 (Authentication)**:
    -   서버는 클라이언트에게 자신의 신원을 증명하기 위해 **인증서(Certificate)**를 전달합니다.
    -   이 인증서는 **CA(Certificate Authority)**라는 신뢰할 수 있는 인증 기관(예: IdenTrust, Amazon)에서 발급받은 것이며, 안에는 서버의 **공개키**가 포함되어 있습니다.
    -   클라이언트는 내장된 CA의 공개키를 통해 서버가 보내온 인증서가 유효한지 검증합니다.
3.  **키 교환 (Key Exchange)**:
    -   인증이 완료되면, 클라이언트는 서버의 공개키를 사용하여 앞으로 통신에 사용할 **대칭키**를 암호화하여 서버에 전달합니다.
    -   서버는 자신의 비밀키로 이를 복호화하여 동일한 대칭키를 공유하게 됩니다.
    -   이후 모든 통신은 연산 속도가 빠른 이 **대칭키**를 사용하여 암호화됩니다.

이 문서는 AWS 환경에서 보안 통신을 구성하고, 암호화 키를 관리하며, 데이터의 기밀성과 무결성을 보장하는 기술적 원리를 이해하는 데 필수적인 기초를 제공합니다.