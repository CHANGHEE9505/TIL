# 07. AWS 기초 지식: 캐싱 (Caching)

이 문서는 데이터 요청의 응답을 효율적으로 처리하기 위해 사용되는 **캐싱(Caching)** 기술의 기본 개념, 장단점, 주요 전략 및 사용 사례를 설명합니다.

## 캐싱(Caching)이란?

-   **정의**: 데이터의 복제본이나 연산 결과를 임시로 저장하여, 이후의 요청에 대해 더 빠르고 효율적으로 응답하는 기술입니다.
-   **목적**: 자주 사용되거나 복잡한 연산이 필요한 데이터를 원본(Origin)이 아닌 캐시 서버에서 빠르게 전달하여, 원본 시스템의 부하를 줄이고 응답 속도를 향상시키는 것입니다.
-   **장점**:
    -   요청에 대해 빠르게 데이터를 전달할 수 있습니다.
    -   복잡한 연산 리소스나 데이터베이스의 부하를 줄일 수 있습니다.
-   **단점**:
    -   원본 데이터와 캐시 데이터 간의 **일관성(Consistency)** 유지가 어렵습니다.
    -   아키텍처의 복잡도가 증가합니다.
    -   캐시 서버 운영에 따른 추가 비용이 발생합니다.

## 캐싱 주요 개념

-   **원본(Origin)**: 캐싱할 데이터 또는 연산 결과를 제공하는 주체 (예: 데이터베이스, API 서버).
-   **Cache Hit**: 요청한 데이터가 캐시에 존재하여, 원본에 요청 없이 캐시에서 바로 응답하는 성공적인 상황입니다.
-   **Cache Miss**: 요청한 데이터가 캐시에 없어, 원본에 직접 요청해야 하는 상황입니다.
-   **캐시 만료(Invalidation/Eviction)**: 특정 조건에 따라 캐시를 삭제하는 행위입니다.
    -   **TTL (Time To Live)**: 캐시 데이터가 얼마나 오랫동안 유효한지를 나타내는 시간 단위입니다. 이 시간이 지나면 캐시는 만료됩니다.

## 캐싱 방식 (데이터 로딩 정책)

-   **Lazy Loading**: 요청이 있을 때만 캐시에 원본 데이터를 채우는 정책입니다.
    -   **장점**: 불필요한 데이터를 캐싱하지 않습니다.
    -   **단점**: 최초 데이터 요청 시에는 캐시 미스가 발생하여 로딩 시간이 필요합니다.
-   **Eager Loading**: 요청이 오기 전에 미리 캐시에 데이터를 채워두고 기다리는 정책입니다.
    -   **장점**: 데이터가 항상 준비되어 있어 응답 속도가 빠릅니다.
    -   **단점**: 사용되지 않는 데이터를 캐싱하여 용량이 낭비될 수 있고, 최초 로딩에 큰 리소스가 필요합니다.
-   **Write Through**: 데이터가 변경/저장될 때 원본과 캐시에 **동시에** 저장하는 정책입니다.
    -   **장점**: 데이터의 일관성이 항상 보장됩니다.
    -   **단점**: 쓰기 과정이 복잡하고 느려질 수 있습니다.
-   **Write Back**: 데이터를 캐시에 먼저 쓰고, 특정 시점에 원본에 업데이트하는 정책입니다.
    -   **장점**: 쓰기 속도가 빠르고 간단합니다.
    -   **단점**: 원본에 업데이트되기 전 캐시에 장애가 발생하면 데이터가 유실될 가능성이 있습니다.

## 캐시 만료 방식 (Eviction Policy)

-   **TTL (Time To Live)**: 설정된 시간이 지나면 만료시킵니다.
-   **LRU (Least Recently Used)**: 가장 오랫동안 사용되지 않은 데이터부터 만료시킵니다.
-   **LFU (Least Frequently Used)**: 가장 적게 사용된 데이터부터 만료시킵니다.
-   **FIFO (First In First Out)**: 가장 먼저 들어온 데이터부터 만료시킵니다.

## 캐싱 사용 사례

-   **Content Delivery Network (CDN)**: 이미지, 비디오 등 정적 콘텐츠를 전 세계 각지의 엣지 로케이션에 캐싱하여 사용자에게 더 가까운 곳에서 빠르게 제공합니다. (예: Amazon CloudFront)
-   **ElastiCache (Redis/Memcached)**: 데이터베이스 쿼리 결과, 랭킹 보드, 세션 데이터 등 동적인 데이터를 인메모리(In-Memory)에 캐싱하여 빠르게 처리합니다.
-   **웹 브라우저**: 웹사이트의 CSS, JS, 이미지 파일 등을 사용자 컴퓨터에 저장하여 재방문 시 로딩 속도를 높입니다.
-   **RAM**: CPU가 자주 사용하는 데이터를 메모리에 캐싱하여 처리 속도를 높입니다.
-   **DNS**: 도메인 이름 조회 결과를 캐싱하여 반복적인 DNS 조회를 피합니다.

이 문서는 AWS 환경에서 ElastiCache, CloudFront와 같은 캐싱 서비스를 이해하고, 시스템 성능 최적화를 위한 아키텍처를 설계하는 데 필요한 기초 지식을 제공합니다.