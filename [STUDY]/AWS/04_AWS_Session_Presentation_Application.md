# 04. AWS 기초 지식: OSI 7 Layer - Session / Presentation / Transport

이 문서는 OSI 7 계층 모델의 상위 계층인 세션(Session), 표현(Presentation), 트랜스포트(Transport) 계층에 대한 핵심 개념을 설명합니다.

## OSI 7 모델과 TCP/IP 모델의 관계

- **OSI 모델**: 7개의 계층(Application, Presentation, Session, Transport, Network, Data Link, Physical)으로 구성된 개념적 모델입니다.
- **TCP/IP 모델**: OSI 모델의 상위 3개 계층(애플리케이션, 표현, 세션)을 하나의 **애플리케이션(Application)** 계층으로, 하위 2개 계층(데이터 링크, 물리)을 **네트워크 액세스(Network Access)** 계층으로 통합하여 더 간소화된 모델입니다.

## Session Layer (세션 계층 - Layer 5)

- **정의**: 통신 주체(device) 간의 연결(세션)을 유지하고 관리하는 방법을 정의합니다.
- **역할 및 예시**:
    - **과거**: 하나의 서버에 여러 터미널이 연결되었을 때, 동일한 MAC 주소, IP 주소, 포트를 사용하더라도 각 유저를 구분하고 지속적인 연결을 제공하는 역할을 했습니다.
    - **현재**: HTTP 프로토콜의 **쿠키(Cookie)** 등을 사용하여 사용자의 상태를 유지하고 세션을 관리하는 개념이 여기에 포함됩니다.
    - **참고**: FTP와 같이 일부 프로토콜은 세션 계층을 자체적으로 구현하지 않습니다.

## Transport/Session Layer (전송/세션 계층 - Layer 4)

- **정의**: 통신 주체 간 데이터 전달의 **신뢰성을 확보**하는 방법을 정의합니다. 네트워크 계층(Layer 3) 위에서 실질적인 통신 활용을 위한 다양한 기능을 제공합니다.
- **주요 단위**: **세그먼트(Segment)**
- **주요 구성 요소**: **TCP**와 **UDP** 프로토콜
- **주요 특징**:
    - 패킷의 순서 보장
    - 오류 처리
    - 포트(Port) 기반의 데이터 분할

### Transmission Control Protocol (TCP)

- **특징**: **연결 지향(Connection-oriented)** 프로토콜로, 데이터의 순서와 무결성을 보장하는 신뢰성 있는 통신 규약입니다.
    - **Three-Way Handshake**: 통신 시작 전, 3단계의 확인 과정을 통해 채널을 수립하여 전달 여부와 무결성을 확인합니다.
    - **신뢰성**: 데이터가 순서대로, 유실 없이 전달되는 것을 보장합니다. 이 과정 때문에 UDP보다 비교적 느리고 복잡합니다.
- **주요 사용 사례**: 웹 페이지(HTTP/HTTPS), 이메일, 파일 전송(FTP), SSH 등 신뢰성이 중요한 통신.
- **TCP Handshake (3-Way Handshake)**:
    1.  **SYN**: 클라이언트가 서버에게 첫 번째 시퀀스 번호(CS)를 담은 요청을 보냅니다.
    2.  **SYN-ACK**: 서버는 요청에 대한 응답으로 CS+1과 서버의 시퀀스 번호(SS)를 담아 전달합니다.
    3.  **ACK**: 클라이언트는 서버의 응답을 확인했다는 의미로 SS+1을 담아 전달하여 연결을 확립합니다.

### User Datagram Protocol (UDP)

- **특징**: **비연결성(Connectionless)** 프로토콜로, 데이터의 무결성, 순서, 전달 여부를 확인하지 않습니다.
    - **비신뢰성**: 패킷이 순서 없이 오거나, 중복되거나, 아예 전달되지 않을 수 있습니다.
    - **속도**: 과정이 단순하여 빠릅니다.
- **주요 사용 사례**: 실시간 스트리밍, 보이스톡(VoIP), 온라인 게임 등 속도가 중요하고 일부 데이터 유실을 감수할 수 있는 서비스.

## Port (포트)

- **정의**: IP 프로토콜 내에서 패킷을 올바른 프로세스(애플리케이션)로 라우팅하기 위한 논리적인 단위입니다.
- **범위**: TCP와 UDP 모두 0부터 65535까지의 정수 범위를 가집니다.
- **종류**:
    - **Well-Known Port (잘 알려진 포트)**: 주요 서버 애플리케이션/프로토콜별로 미리 지정된 포트 (예: HTTP - 80, HTTPS - 443, SSH - 22).
    - **Ephemeral Port (임시 포트)**: 클라이언트에서 연결할 때마다 임의로 지정되는 포트.

이 문서는 AWS 환경에서 애플리케이션 간의 데이터 전송 신뢰성과 세션 관리가 어떻게 이루어지는지에 대한 기초 지식을 제공합니다.