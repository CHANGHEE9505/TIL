# ğŸ“˜ íŒ¨í‚· ë¶„ì„

### ì‹¤ìŠµ1. 

- ìƒ¥ìŠ¤í•€ì„ ì´ìš©í•œ íŒ¨í‚· ë¶„ì„

```  
## ê°œìš”

- íŒ¨í‚· ìŠ¤ë‹ˆí•‘ íˆ´ë¡œì¨ ë§ì´ ì‚¬ìš©ë˜ê³  ìˆë‹¤.
- ìŠ¤ë‹ˆí¼ë¡œ ì˜ ì•Œë ¤ì§„ 'ì´íŠ¸ë¦¬ì–¼(Ethereal)'ì˜ í›„ì† ë²„ì „ì´ë‹¤.
```  
## ì‹¤ìŠµ 1. ë°ì´í„° ë§í¬ ê³„ì¸µ(2ê³„ì¸µ)ì˜ íŒ¨í‚· ë¶„ì„í•˜ê¸°

### ì‹¤ìŠµ í™˜ê²½ (Host-only)

- **Windows 10**  
  - 192.168.10.131 / C Class / 192.168.10.2 / 192.168.10.2
- **Windows Server 2022 (with IIS ì›¹ì„œë²„)**   (í´100)
  - 192.168.10.132 / C Class / 192.168.10.2 / 192.168.10.2

### ì¤€ë¹„ì‚¬í•­


- **í†µì‹  í…ŒìŠ¤íŠ¸ í™•ì¸**  
  - ì‹¤í–‰ì°½(cmd)ì—ì„œ ì‹¤í–‰  
    - Windows 10 â†’ Windows Server 2022  
      `ping 192.168.10.132`
    - Windows Server 2022 â†’ Windows 10  
      `ping 192.168.10.131`
--  
## íŒ¨í‚· ìº¡ì²˜ ì¤€ë¹„

- (í•˜ì§€ ë§ˆë¼) ë‘ ì‹œìŠ¤í…œ ëª¨ë‘ Network ì„¤ì •(ncpa.cpl)ì—ì„œ 'IPv4'ë§Œ IPê°’ ì…ë ¥í•˜ê³  ë‚˜ë¨¸ì§€ëŠ” ê·¸ëŒ€ë¡œ ë‘”ë‹¤.
- Server ì‹œìŠ¤í…œì— 'IIS'ë¥¼ ì¶”ê°€ ë° í™œì„±í™”
  - ì„œë²„ê´€ë¦¬ì ì‹¤í–‰ â†’ 'ì—­í•  ë° ê¸°ëŠ¥ ì¶”ê°€' í´ë¦­
  - ì—”í„°í‚¤ 3ë²ˆ â†’ 'ì›¹ ì„œë²„(IIS)' ì²´í¬ â†’ íŒì—…ì°½ 'ê¸°ëŠ¥ ì¶”ê°€' í´ë¦­
  - ì—”í„°í‚¤ 3ë²ˆ â†’ 'FTP ì„œë²„'ë§Œ ì²´í¬ (ë‚˜ë¨¸ì§€ëŠ” ì„¤ì¹˜ ì•ˆ í•¨)
  - 'í•„ìš”í•œ ê²½ìš° ìë™ìœ¼ë¡œ ëŒ€ìƒ ì„œë²„ ë‹¤ì‹œ ì‹œì‘' ì²´í¬ â†’ 'ì˜ˆ' í´ë¦­
  - 'ì„¤ì¹˜ ì‹œì‘' í´ë¦­ â†’ ì„¤ì¹˜ ì™„ë£Œ í›„ 'IIS ê´€ë¦¬ì' í™•ì¸

- ê° ì‹œìŠ¤í…œì—ì„œ ì›¹ ë¸Œë¼ìš°ì €ë¡œ Server IP ì ‘ì† í›„ 'IIS Test Page' ì¶œë ¥ í™•ì¸
  - Server ì‹œìŠ¤í…œ (O)
  - Client ì‹œìŠ¤í…œ (O)

- **Wireshark ì„¤ì¹˜**
  - [Wireshark ê³µì‹ ì‚¬ì´íŠ¸](https://www.wireshark.org/) ì ‘ì†
  - Windows x64 Installer ë‹¤ìš´ë¡œë“œ ë° ê¸°ë³¸ê°’ìœ¼ë¡œ ì„¤ì¹˜
```  
## íŒ¨í‚· ìº¡ì²˜

### MAC Address í™•ì¸ (ipconfig /all)

- **Server ì‹œìŠ¤í…œ**
  - MAC ì£¼ì†Œ: `00-0C-29-44-8E-B0`
  - IP: `192.168.10.132`

- **Client ì‹œìŠ¤í…œ**
  - MAC ì£¼ì†Œ: `00-0C-29-BE-47-CB`
  - IP: `192.168.10.131`

### ìº¡ì²˜ ì ˆì°¨

- Serverì™€ Clientì—ì„œ Wireshark ì‹¤í–‰
- Client ì‹œìŠ¤í…œ ì›¹ ë¸Œë¼ìš°ì €ë¡œ Server ì‹œìŠ¤í…œ IP ì ‘ì†
- 'IIS Test Page' ì¶œë ¥ í™•ì¸ í›„ Wireshark ìº¡ì²˜ ì¤‘ì§€
``` 
## íŒ¨í‚· ë¶„ì„

### ARP (MAC ì£¼ì†Œ ìš”ì²­ íŒ¨í‚·) ë¶„ì„

- **í•„í„°:** `ARP`

#### ì¼ë°˜ ë¶„ì„ 131ì—ì„œ

| Source | Destination | Protocol | Length | Info |
|:---|:---|:---|:---|:---|
| VMware_be:47:cb | Broadcast | ARP | 42 | Who has 192.168.10.132? Tell 192.168.10.131 |
| VMware_44:8e:b0 | VMware_2b:2d:2f | ARP | 60 | 192.168.10.132 is at 00:0c:29:df:99:90 |

- **ì²« ë²ˆì§¸ ë¼ì¸**  
  - Clientê°€ Server MAC ì£¼ì†Œë¥¼ ì•Œê¸° ìœ„í•´ ë¸Œë¡œë“œìºìŠ¤íŠ¸

- **ë‘ ë²ˆì§¸ ë¼ì¸**  
  - Serverê°€ ì‘ë‹µí•˜ì—¬ MAC ì£¼ì†Œë¥¼ ì•Œë ¤ì¤Œ

#### ì„¸ë¶€ ë¶„ì„ 1 (ìš”ì²­ Request, Client â†’ Server)

- `Dst: Broadcast (ff:ff:ff:ff:ff:ff)` â†’ ë„¤íŠ¸ì›Œí¬ ëª¨ë“  ì¥ë¹„ ëŒ€ìƒ
- `Target MAC address: 00:00:00:00:00:00` â†’ ì•„ì§ ëª©ì ì§€ MAC ëª¨ë¦„

#### ì„¸ë¶€ ë¶„ì„ 2 (ì‘ë‹µ Reply, Server â†’ Client)

- Serverê°€ ìì‹ ì˜ MAC ì£¼ì†Œ(`00:0c:29:df:99:90`)ë¥¼ Clientì—ê²Œ ì•Œë¦¼
--  
## HTTP íŒ¨í‚·

- MAC ì£¼ì†Œ í™•ì¸ ì´í›„, Clientê°€ Serverì— HTTP ìš”ì²­
- **ì£¼ì˜:** ì—¬ê¸°ì„œ HTTP íŒ¨í‚· ë‚´ìš©ì€ í¬ê²Œ ì¤‘ìš”í•˜ì§€ ì•Šê³ , **ARP ë¶„ì„ì´ ëª©ì **
--  
## ARP í…Œì´ë¸” í™•ì¸

- **ëª…ë ¹ì–´:** `arp -a`
- Client ì‹œìŠ¤í…œ ê²°ê³¼ ì˜ˆì‹œ

```
ì¸í„°í˜ì´ìŠ¤: 192.168.10.131 --- 0x5
  ì¸í„°ë„· ì£¼ì†Œ           ë¬¼ë¦¬ì  ì£¼ì†Œ           ìœ í˜•
  192.168.10.1          00-50-56-c0-00-08     ë™ì 
  192.168.10.2          00-50-56-ec-a4-44     ë™ì 
  192.168.10.132        00-0c-29-df-99-90     ë™ì 
  192.168.10.255        ff-ff-ff-ff-ff-ff     ì •ì 
  224.0.0.22            01-00-5e-00-00-16     ì •ì 
  224.0.0.251           01-00-5e-00-00-fb     ì •ì 
  224.0.0.252           01-00-5e-00-00-fc     ì •ì 
  239.255.255.250       01-00-5e-7f-ff-fa     ì •ì 
```

- Clientê°€ Serverì˜ MAC ì£¼ì†Œë¥¼ ì •ìƒì ìœ¼ë¡œ ê¸°ì–µí•˜ê³  ìˆìŒ
--  
## ê²°ê³¼

- Wiresharkë¡œ ìº¡ì³í•œ íŒ¨í‚·ì˜ í•˜ë‹¨ ì„¸ë¶€ ë‚´ìš©ì€ **OSI 7 Layer**ì™€ **TCP/IP ëª¨ë¸** ìˆœì„œì— ë”°ë¼ ê³„ì¸µë³„ë¡œ ì¶œë ¥ë¨

![ì´ë¯¸ì§€1](./img/íŒ¨í‚·ë¶„ì„img/1.png)<br>
![ì´ë¯¸ì§€1](./img/íŒ¨í‚·ë¶„ì„img/2.png)

# ì‹¤ìŠµ 2. ë„¤íŠ¸ì›Œí¬ ê³„ì¸µ(3ê³„ì¸µ)ì˜ íŒ¨í‚· ë¶„ì„í•˜ê¸°

## ì‹¤ìŠµ í™˜ê²½
- ì›ë˜ëŠ” **ë¼ìš°í„°** ë˜ëŠ” **ê³µìœ ê¸°**ê°€ ìˆìœ¼ë©´ ë˜ì§€ë§Œ, ì—†ìœ¼ë¯€ë¡œ **Windows Server**ì˜ **ë¼ìš°íŒ… ë° ì›ê²© ì•¡ì„¸ìŠ¤(rrasmamg.msc)**ë¥¼ í†µí•´ ì‘ì—…í•œë‹¤.

- ì‹œìŠ¤í…œ êµ¬ì„±:
  - **SRV100 (Windows Server 2022)** : ë‚´ë¶€(Host Only), ì™¸ë¶€(Bridge)
    - ë‚´ë¶€ë§ : `192.168.100.10` (C Class)
    - ì™¸ë¶€ë§ : `10.10.10.100` (C Class)
  - **Client100 (Windows Server 2022)** : Host Only
    - ë‚´ë¶€ë§ : `192.168.100.20` (ê²Œì´íŠ¸ì›¨ì´: `192.168.100.10`)
  - **SRV200 (Windows Server 2022)** : ë‚´ë¶€(Host Only), ì™¸ë¶€(Bridge)
    - ë‚´ë¶€ë§ : `192.168.200.10` (C Class)
    - ì™¸ë¶€ë§ : `10.10.10.200` (C Class)
  - **Client200 (Windows Server 2022)** : Host Only
    - ë‚´ë¶€ë§ : `192.168.200.20` (ê²Œì´íŠ¸ì›¨ì´: `192.168.200.10`)

## ë¼ìš°í„° ì„¤ì • (SRV100, SRV200)
- ê´€ë¦¬ë„êµ¬ì˜ **ë¼ìš°íŒ… ë° ì›ê²© ì•¡ì„¸ìŠ¤(rrasmgmt.msc)**ë¥¼ ì‹¤í–‰í•˜ì—¬ ì„¤ì •í•œë‹¤.

## í†µì‹  í…ŒìŠ¤íŠ¸ í™•ì¸
- ì‹¤í–‰ì°½(cmd)ì—ì„œ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ì—¬ í…ŒìŠ¤íŠ¸:

  - Client100 â†’ Client200
    ```bash
    ping -t 192.168.200.20
    ```
  - Client200 â†’ Client100
    ```bash
    ping -t 192.168.100.20
    ```

---

## íŒ¨í‚· ë¶„ì„ 1. SRV100ê³¼ SRV200ì´ ì™¸ë¶€ë§ì¼ ë•Œ

### Client100

- ê²Œì´íŠ¸ì›¨ì´ ì¡´ì¬ ì—¬ë¶€ í™•ì¸:
![ì´ë¯¸ì§€1](./img/íŒ¨í‚·ë¶„ì„img/3.png)<br>


```
VMware_d8:ea:dc VMware_4b:70:63 ARP 60 Who has 192.168.100.10? Tell 192.168.100.20 VMware_4b:70:63 VMware_d8:ea:dc ARP 60 192.168.100.10 is at 00:0c:29:4b:70:63 VMware_4f:39:1f VMware_d2:a5:d9 ARP 42 Who has 192.168.200.10? Tell 192.168.200.20 VMware_d2:a5:d9 VMware_4f:39:1f ARP 60 192.168.200.10 is at 00:0c:29:d2:a5:d9
```

- ì¶œë°œì§€(Client100)ì™€ ë„ì°©ì§€(Client200) ì¡´ì¬ ì—¬ë¶€ í™•ì¸:

```
VMware_d2:a5:d9 VMware_4f:39:1f ARP 60 Who has 192.168.200.20? Tell 192.168.200.10 VMware_4b:70:63 VMware_d8:ea:dc ARP 60 Who has 192.168.100.20? Tell 192.168.100.10
```

- ìš”ì²­(Request) ë° ì‘ë‹µ(Reply) ê²°ê³¼ë¡œ ìµœì¢… MAC Address í™•ì¸:
```
VMware_4f:39:1f VMware_d2:a5:d9 ARP 42 192.168.200.20 is at 00:0c:29:4f:39:1f VMware_d8:ea:dc VMware_4b:70:63 ARP 60 192.168.100.20 is at 00:0c:29:d8:ea:dc
```

### SRV100
![ì´ë¯¸ì§€4](./img/íŒ¨í‚·ë¶„ì„img/4.png)<br>

- Gateway(192.168.14.1)ë¥¼ í†µí•œ í˜¸ìŠ¤íŠ¸ ì‹œìŠ¤í…œ(192.168.14.54) ì¡´ì¬ ì—¬ë¶€ í™•ì¸:

```
EFMNetworks_95:18:24 SamsungElect_83:ed:6f ARP 60 Who has 192.168.14.54? Tell 192.168.14.1 SamsungElect_83:ed:6f EFMNetworks_95:18:24 ARP 60 192.168.14.54 is at 98:83:89:83:ed:6f
```

- ì™¸ë¶€ë§ë¼ë¦¬ í†µì‹  ì—¬ë¶€ í™•ì¸:
```
VMware_4b:70:59 VMware_d2:a5:cf ARP 42 Who has 10.10.10.200? Tell 10.10.10.100 VMware_d2:a5:cf VMware_4b:70:59 ARP 60 10.10.10.200 is at 00:0c:29:d2:a5:cf
```

- í˜¸ìŠ¤íŠ¸ ì‹œìŠ¤í…œ(192.168.14.54)ì„ í†µí•œ Gateway ì¡´ì¬ ì—¬ë¶€ í™•ì¸:

```
SamsungElect_83:ed:6f EFMNetworks_95:18:24 ARP 60 Who has 192.168.14.1? Tell 192.168.14.54 EFMNetworks_95:18:24 SamsungElect_83:ed:6f ARP 60 192.168.14.1 is at 58:86:94:95:18:24
```

![ì´ë¯¸ì§€4](./img/íŒ¨í‚·ë¶„ì„img/5.png)<br>

![ì´ë¯¸ì§€4](./img/íŒ¨í‚·ë¶„ì„img/6.png)<br>
